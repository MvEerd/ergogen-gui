(this["webpackJsonpergogen-gui"]=this["webpackJsonpergogen-gui"]||[]).push([[0],{114:function(e,n,t){},190:function(e,n){},192:function(e,n){},246:function(e,n,t){"use strict";t.r(n);var r,i,a,c,o,s,l,d,u,b,j,f,g,h,p,O,x,m,v,w,y,k,N,S=t(3),C=t(0),I=t.n(C),F=t(40),D=t.n(F),z=t(4),_=(t(114),t(5)),G=t(32),A=t.n(G),P=t(47),E=t(107),B=t(7),J=t(33),M=t(25),K=t.n(M),L=t(1),U=Object(C.createContext)(null),R=function(e){var n=e.initialInput,t=e.children,r=Object(C.useState)(n),i=Object(_.a)(r,2),a=i[0],c=i[1],o=Object(C.useState)(null),s=Object(_.a)(o,2),l=s[0],d=s[1],u=Object(C.useState)(null),b=Object(_.a)(u,2),j=b[0],f=b[1],g=Object(C.useState)(!0),h=Object(_.a)(g,2),p=h[0],O=h[1],x=Object(C.useState)(!0),m=Object(_.a)(x,2),v=m[0],w=m[1],y=Object(C.useState)(!1),k=Object(_.a)(y,2),N=k[0],S=k[1],I=function(e){var n="UNKNOWN",t=null;try{t=JSON.parse(e),n="JSON"}catch(r){}try{t=J.a.load(e),n="YAML"}catch(r){}return[n,t]},F=Object(C.useCallback)(K()(function(){var e=Object(P.a)(A.a.mark((function e(n){var t,r,i,a,c,o,s=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{pointsonly:!0},r=null,i=n,a=I(n),c=Object(_.a)(a,2),o=c[1],d(null),(null===o||void 0===o?void 0:o.points)&&(null===t||void 0===t?void 0:t.pointsonly)&&(i={points:Object(B.a)({},null===o||void 0===o?void 0:o.points),units:Object(B.a)({},null===o||void 0===o?void 0:o.units),variables:Object(B.a)({},null===o||void 0===o?void 0:o.variables),outlines:Object(B.a)({},null===o||void 0===o?void 0:o.outlines)}),e.prev=6,e.next=9,window.ergogen.process(i,p,(function(e){return console.log(e)}));case 9:r=e.sent,e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(6),e.t0){e.next=16;break}return e.abrupt("return");case 16:return"string"===typeof e.t0&&d(e.t0),"object"===typeof e.t0&&d(e.t0.toString()),e.abrupt("return");case 19:f(r);case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(n){return e.apply(this,arguments)}}(),300),[window.ergogen]);return Object(C.useEffect)((function(){v&&F(a,{pointsonly:!N})}),[a,F]),Object(L.jsx)(U.Provider,{value:{configInput:a,setConfigInput:c,processInput:F,error:l,results:j,debug:p,setDebug:O,autoGen:v,setAutoGen:w,autoGen3D:N,setAutoGen3D:S},children:t})},V=function(){return Object(C.useContext)(U)},Z=function(e){var n=e.className,t=V(),r=t.configInput,i=t.setConfigInput,a=function(){var e=Object(P.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){a(r)}),[]),Object(L.jsx)("div",{className:n,children:Object(L.jsx)(E.a,{height:"70vh",defaultLanguage:"JSON",onChange:a,value:r,theme:"vs-dark",defaultValue:r})})},W=t(109),Y=z.a.button(r||(r=Object(S.a)(["\n  display: inline-block;\n  border: none;\n  padding: 1rem 2rem;\n  margin: 0;\n  text-decoration: none;\n  background-image: linear-gradient(320deg, #70c3d7 0%, #42aca2 100%);\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 1.2rem;\n  cursor: pointer;\n  text-align: center;\n  transition: all 50ms ease-in-out,\n  transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    background-image: linear-gradient(320deg, #66b1c6 0%, #3ba096 100%);\n  }\n\n  &:active {\n    transform: scale(0.98);\n    outline: 2px solid #fff;\n    outline-offset: -5px;\n  }\n"]))),q=Object(z.a)(Y)(i||(i=Object(S.a)(["\n    padding: 0.7rem 1.4rem;\n    font-size: 1rem;\n"]))),H=Object(z.a)(Y)(a||(a=Object(S.a)(["\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n"]))),Q=function(e){var n=e.size,t=Object(W.a)(e,["size"]);switch(n){case"sm":case"small":return Object(L.jsx)(H,Object(B.a)({},t));case"md":case"medium":return Object(L.jsx)(q,Object(B.a)({},t));case"lg":case"large":default:return Object(L.jsx)(Y,Object(B.a)({},t))}},T=z.a.div(c||(c=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5em\n"]))),X=z.a.div(o||(o=Object(S.a)(["\n"]))),$=z.a.div(s||(s=Object(S.a)(["\n    \n"]))),ee=Object(z.a)(Q)(l||(l=Object(S.a)(["\nmargin-right: 0.5em;\n"]))),ne=function(e){var n=e.fileName,t=e.extension,r=e.content,i=e.preview,a=e.setPreview;return Object(L.jsxs)(T,{children:[Object(L.jsxs)(X,{children:[n,".",t]}),Object(L.jsxs)($,{children:[i&&Object(L.jsx)(ee,{size:"small",onClick:function(){return a(i)},children:"Preview"}),Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",download:"".concat(n,".").concat(t),href:window.URL.createObjectURL(new Blob([r],{type:"octet/stream"})),children:Object(L.jsx)(Q,{size:"small",children:"Download"})})]})]})},te=z.a.div(d||(d=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),re=function(e){var n=e.setPreview,t=[],r=V();if(!r)return null;var i,a=r.configInput,c=r.results;(null===c||void 0===c?void 0:c.demo)&&t.push({fileName:"raw",extension:"txt",content:a},{fileName:"canonical",extension:"yaml",content:J.a.dump(c.points)},{fileName:"demo",extension:"dxf",content:null===c||void 0===c||null===(i=c.demo)||void 0===i?void 0:i.dxf,preview:"demo.svg"},{fileName:"points",extension:"yaml",content:J.a.dump(c.points)},{fileName:"units",extension:"yaml",content:J.a.dump(c.units)});if(null===c||void 0===c?void 0:c.outlines)for(var o=0,s=Object.entries(c.outlines);o<s.length;o++){var l=Object(_.a)(s[o],2),d=l[0],u=l[1];t.push({fileName:d,extension:"dxf",content:u.dxf,preview:"outlines.".concat(d,".svg")})}if(null===c||void 0===c?void 0:c.cases)for(var b=0,j=Object.entries(c.cases);b<j.length;b++){var f=Object(_.a)(j[b],2),g=f[0],h=f[1];t.push({fileName:g,extension:"stl",content:h.stl,preview:"cases.".concat(g,".jscad")})}if(null===c||void 0===c?void 0:c.pcbs)for(var p=0,O=Object.entries(c.pcbs);p<O.length;p++){var x=Object(_.a)(O[p],2),m=x[0],v=x[1];t.push({fileName:m,extension:"kicad_pcb",content:v})}return Object(L.jsxs)(te,{children:[Object(L.jsx)("h3",{children:"Downloads"}),t.map((function(e,t){return!e.fileName.startsWith("_")&&Object(L.jsx)(ne,Object(B.a)(Object(B.a)({},e),{},{setPreview:n}),t)}))]})},ie=t(105),ae=z.a.img(u||(u=Object(S.a)(["\n      filter: invert();\n      -webkit-user-drag: none;\n      -khtml-user-drag: none;\n      -moz-user-drag: none;\n      -o-user-drag: none;\n      user-drag: none;\n"]))),ce=Object(z.a)(ie.PanZoom)(b||(b=Object(S.a)(["\n  overflow: hidden;\n  border: 1px solid #a8a8a8;\n\n  &:focus-visible {\n    outline: none;\n  }\n"]))),oe=function(e){var n=e.svg,t=e.width,r=e.height;return Object(L.jsx)(ce,{enableBoundingBox:!0,children:Object(L.jsx)(ae,{width:t||"100%",height:r||"100%",src:"data:image/svg+xml;utf8,".concat(encodeURIComponent(n)),alt:"Ergogen SVG Output preview"})})},se=t(108),le=Object(z.a)(se.a)(j||(j=Object(S.a)(["\n  width: 100%;\n  height: 400px;\n"]))),de=function(e){var n=e.previewContent;return Object(L.jsx)(le,{jscadScript:n,style:{wrapperDiv:{height:"100%",width:"100%"},viewerCanvas:{height:"400px",width:"100%"}}})},ue=I.a.memo(de),be=function(e){var n=e.previewKey,t=e.previewContent,r=e.width,i=void 0===r?"100%":r,a=e.height,c=void 0===a?"100%":a,o=e.className,s=n.split(".").slice(-1)[0];return Object(L.jsx)("div",{className:o,children:function(e){switch(e){case"svg":return Object(L.jsx)(oe,{svg:t,width:i,height:c});case"jscad":return Object(L.jsx)(ue,{previewContent:t});default:return Object(L.jsx)(L.Fragment,{})}}(s)})},je=t(106),fe=function(e){var n=e.optionId,t=e.label,r=e.setSelected,i=e.checked;return Object(L.jsxs)("span",{children:[Object(L.jsx)("input",{type:"checkbox",id:n,checked:i,onChange:function(e){return r(e.target.checked)}}),Object(L.jsx)("label",{htmlFor:n,children:t})]})},ge=z.a.div(f||(f=Object(S.a)(["\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  max-width: 33em;\n  width: 100%;\n  flex-grow: 1;\n\n  @media screen and (max-width: 1000px) {\n    max-width: unset;\n  }\n"]))),he=z.a.div(g||(g=Object(S.a)(["\n  display: flex;\n  flex-flow: wrap;\n\n  @media screen and (max-width: 1000px) {\n    flex-direction: column;\n  }\n"]))),pe=z.a.div(h||(h=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n\n  flex-grow: 1;\n  flex-basis: 25em;\n  padding: 1em;\n"]))),Oe=z.a.div(p||(p=Object(S.a)(["\n  background: #ff6d6d;\n  color: #a31111;\n  padding: 1em;\n  margin: 0.5em 0 0.5em 0;\n  border: 1px solid #a31111;\n  border-radius: 0.3em;\n"]))),xe=Object(z.a)(be)(O||(O=Object(S.a)(["\n  flex-grow: 1;\n"]))),me=Object(z.a)(Z)(x||(x=Object(S.a)(["\n  border: 3px solid grey;\n  border-radius: 0.3em;\n  height: 80%;\n  position: relative;\n"]))),ve=z.a.div(m||(m=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),we=function(){var e=Object(C.useState)("demo.svg"),n=Object(_.a)(e,2),t=n[0],r=n[1],i=V();if(!i)return null;var a=i.results,c=i.error,o=i.processInput,s=i.configInput,l=i.autoGen,d=i.setAutoGen,u=i.autoGen3D,b=i.setAutoGen3D,j=i.debug,f=i.setDebug,g=a;return t.split(".").forEach((function(e){var n;return g=null===(n=g)||void 0===n?void 0:n[e]})),Object(L.jsx)("div",{children:Object(L.jsxs)(he,{children:[Object(L.jsxs)(ge,{children:[Object(L.jsx)(je.a,{onChange:function(){},onInputChange:function(){},value:"",inputValue:"",onMenuClose:function(){},onMenuOpen:function(){}}),Object(L.jsx)(me,{}),Object(L.jsx)(Q,{onClick:function(){return o(s,{pointsonly:!1})},children:"Generate"}),Object(L.jsxs)(ve,{children:[Object(L.jsx)(fe,{optionId:"autogen",label:"Auto-generate",setSelected:d,checked:l}),Object(L.jsx)(fe,{optionId:"debug",label:"Debug",setSelected:f,checked:j}),Object(L.jsx)(fe,{optionId:"autogen3d",label:Object(L.jsxs)(L.Fragment,{children:["Auto-gen 3D ",Object(L.jsx)("small",{children:"(slow)"})]}),setSelected:b,checked:u})]}),c&&Object(L.jsx)(Oe,{children:c.toString()})]}),Object(L.jsxs)(pe,{children:[Object(L.jsx)(re,{setPreview:r}),t&&"string"===typeof g&&Object(L.jsx)(xe,{previewKey:t,previewContent:g})]})]})})},ye=z.a.div(v||(v=Object(S.a)(["\n      width: 100%;\n      height: 4em;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    "]))),ke=z.a.div(w||(w=Object(S.a)(["\n      a {\n        color: white;\n        text-decoration: none;\n        display: inline-block;\n        margin-right: 2em\n      }\n    "]))),Ne=z.a.h2(y||(y=Object(S.a)(["\n  display: inline;\n  background: #99d4d9;\n  background: linear-gradient(to right, #99d4d9 0%, #b9dbaf 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]))),Se=function(){return Object(L.jsxs)(ye,{children:[Object(L.jsx)("div",{children:Object(L.jsx)(Ne,{children:"Ergogen"})}),Object(L.jsxs)(ke,{children:[Object(L.jsx)("a",{href:"#",rel:"noreferrer",children:"Intro"}),Object(L.jsx)("a",{href:"https://docs.ergogen.xyz/",target:"_blank",rel:"noreferrer",children:"Docs"}),Object(L.jsx)("a",{href:"https://discord.gg/nbKcAZB",target:"_blank",rel:"noreferrer",children:"Discord"})]})]})},Ce=z.a.div(k||(k=Object(S.a)(["\n      display: flex;\n      margin-top: auto;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 1em 0.5em 1em;\n      color: #FFFFFF;\n\n      a {\n        color: white;\n        text-decoration: none;\n      }\n"]))),Ie=function(){return Object(L.jsxs)(Ce,{children:[Object(L.jsx)("div",{children:Object(L.jsx)("a",{href:"https://www.github.com/ergogen/ergogen",target:"_blank",rel:"noreferrer",children:"Ergogen by MrZealot"})}),Object(L.jsxs)("div",{children:["v",window.ergogen.version]}),Object(L.jsxs)("div",{children:["Powering the ",Object(L.jsx)("a",{href:"https://zealot.hu/absolem",target:"_blank",rel:"noreferrer",children:"Absolem"})]})]})},Fe=z.a.div(N||(N=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  color: #FFFFFF;\n  height: 100%;\n  width: 100%;\n"])));D.a.render(Object(L.jsx)(I.a.StrictMode,{children:Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(Fe,{children:[Object(L.jsx)(Se,{}),Object(L.jsx)(R,{initialInput:"points:\n  zones:\n    matrix:\n      anchor:\n        rotate: 5\n      columns:\n        pinky:\n        ring:\n          rotate: -5\n          origin: [-12, -19]\n          stagger: 12\n        middle:\n          stagger: 5\n        index:\n          stagger: -6\n        inner:\n          stagger: -2\n      rows:\n        bottom:\n        home:\n        top:\n    thumbfan:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [-7, -19]\n      columns:\n        near:\n        home:\n          spread: 21.25\n          rotate: -28\n          origin: [-11.75, -9]\n        far:\n          spread: 21.25\n          rotate: -28\n          origin: [-9.5, -9]\n      rows:\n        thumb:\n  rotate: -20\n  mirror:\n    ref: matrix_pinky_home\n    distance: 223.7529778",children:Object(L.jsx)(we,{})}),Object(L.jsx)(Ie,{})]})})}),document.getElementById("root"))}},[[246,1,2]]]);
//# sourceMappingURL=main.b7687ffc.chunk.js.map