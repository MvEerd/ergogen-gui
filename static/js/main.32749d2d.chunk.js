(this["webpackJsonpergogen-gui"]=this["webpackJsonpergogen-gui"]||[]).push([[0],{120:function(e,n,t){},195:function(e,n){},197:function(e,n){},248:function(e,n,t){"use strict";t.r(n);var r,i,a,c,o,s,l,d,u,b,j,f,h,g,p,O,x,m,v,w,y,k,N,C=t(3),I=t(0),S=t.n(I),F=t(43),D=t.n(F),_=t(4),z=(t(120),t(5)),G=t(52),A=t(35),E=t.n(A),P=t(113),L=t(7),B=t(36),J=t(30),M=t.n(J),K=t(250),R=t(1),U=Object(I.createContext)(null),V=function(e){var n=e.initialInput,t=e.children,r=Object(K.a)("LOCAL_STORAGE_CONFIG",n),i=Object(z.a)(r,2),a=i[0],c=i[1],o=Object(I.useState)(null),s=Object(z.a)(o,2),l=s[0],d=s[1],u=Object(I.useState)(null),b=Object(z.a)(u,2),j=b[0],f=b[1],h=Object(I.useState)(!0),g=Object(z.a)(h,2),p=g[0],O=g[1],x=Object(I.useState)(!0),m=Object(z.a)(x,2),v=m[0],w=m[1],y=Object(I.useState)(!1),k=Object(z.a)(y,2),N=k[0],C=k[1],S=function(e){var n="UNKNOWN",t=null;try{t=JSON.parse(e),n="JSON"}catch(r){}try{t=B.a.load(e),n="YAML"}catch(r){}return[n,t]},F=Object(I.useCallback)(M()(function(){var e=Object(G.a)(E.a.mark((function e(n){var t,r,i,a,c,o,s=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{pointsonly:!0},r=null,i=null!==n&&void 0!==n?n:"",a=S(null!==n&&void 0!==n?n:""),c=Object(z.a)(a,2),o=c[1],d(null),null!==o&&void 0!==o&&o.points&&null!==t&&void 0!==t&&t.pointsonly&&(i={points:Object(L.a)({},null===o||void 0===o?void 0:o.points),units:Object(L.a)({},null===o||void 0===o?void 0:o.units),variables:Object(L.a)({},null===o||void 0===o?void 0:o.variables),outlines:Object(L.a)({},null===o||void 0===o?void 0:o.outlines)}),e.prev=6,e.next=9,window.ergogen.process(i,p,(function(e){return console.log(e)}));case 9:r=e.sent,e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(6),e.t0){e.next=16;break}return e.abrupt("return");case 16:return"string"===typeof e.t0&&d(e.t0),"object"===typeof e.t0&&d(e.t0.toString()),e.abrupt("return");case 19:f(r);case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(n){return e.apply(this,arguments)}}(),300),[window.ergogen]);return Object(I.useEffect)((function(){v&&F(a,{pointsonly:!N})}),[a,F]),Object(R.jsx)(U.Provider,{value:{configInput:a,setConfigInput:c,processInput:F,error:l,results:j,debug:p,setDebug:O,autoGen:v,setAutoGen:w,autoGen3D:N,setAutoGen3D:C},children:t})},Z=function(){return Object(I.useContext)(U)},W=function(e){var n=e.className,t=Z(),r=t.configInput,i=t.setConfigInput,a=function(){var e=Object(G.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(I.useEffect)((function(){a(r)}),[]),Object(R.jsx)("div",{className:n,children:Object(R.jsx)(P.a,{height:"70vh",defaultLanguage:"JSON",onChange:a,value:r,theme:"vs-dark",defaultValue:r})})},T=t(23),Y=["size"],q=_.a.button(r||(r=Object(C.a)(["\n  display: inline-block;\n  border: none;\n  padding: 1rem 2rem;\n  margin: 0;\n  text-decoration: none;\n  background-image: linear-gradient(320deg, #70c3d7 0%, #42aca2 100%);\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 1.2rem;\n  cursor: pointer;\n  text-align: center;\n  transition: all 50ms ease-in-out,\n  transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    background-image: linear-gradient(320deg, #66b1c6 0%, #3ba096 100%);\n  }\n\n  &:active {\n    transform: scale(0.98);\n    outline: 2px solid #fff;\n    outline-offset: -5px;\n  }\n"]))),H=Object(_.a)(q)(i||(i=Object(C.a)(["\n    padding: 0.7rem 1.4rem;\n    font-size: 1rem;\n"]))),Q=Object(_.a)(q)(a||(a=Object(C.a)(["\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n"]))),X=function(e){var n=e.size,t=Object(T.a)(e,Y);switch(n){case"sm":case"small":return Object(R.jsx)(Q,Object(L.a)({},t));case"md":case"medium":return Object(R.jsx)(H,Object(L.a)({},t));default:return Object(R.jsx)(q,Object(L.a)({},t))}},$=_.a.div(c||(c=Object(C.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5em\n"]))),ee=_.a.div(o||(o=Object(C.a)(["\n"]))),ne=_.a.div(s||(s=Object(C.a)(["\n    \n"]))),te=Object(_.a)(X)(l||(l=Object(C.a)(["\nmargin-right: 0.5em;\n"]))),re=function(e){var n=e.fileName,t=e.extension,r=e.content,i=e.preview,a=e.setPreview;return Object(R.jsxs)($,{children:[Object(R.jsxs)(ee,{children:[n,".",t]}),Object(R.jsxs)(ne,{children:[i&&Object(R.jsx)(te,{size:"small",onClick:function(){return a(i)},children:"Preview"}),Object(R.jsx)("a",{target:"_blank",rel:"noreferrer",download:"".concat(n,".").concat(t),href:window.URL.createObjectURL(new Blob([r],{type:"octet/stream"})),children:Object(R.jsx)(X,{size:"small",children:"Download"})})]})]})},ie=_.a.div(d||(d=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),ae=function(e){var n=e.setPreview,t=[],r=Z();if(!r)return null;var i,a=r.configInput,c=r.results;null!==c&&void 0!==c&&c.demo&&t.push({fileName:"raw",extension:"txt",content:null!==a&&void 0!==a?a:""},{fileName:"canonical",extension:"yaml",content:B.a.dump(c.points)},{fileName:"demo",extension:"dxf",content:null===c||void 0===c||null===(i=c.demo)||void 0===i?void 0:i.dxf,preview:"demo.svg"},{fileName:"points",extension:"yaml",content:B.a.dump(c.points)},{fileName:"units",extension:"yaml",content:B.a.dump(c.units)});if(null!==c&&void 0!==c&&c.outlines)for(var o=0,s=Object.entries(c.outlines);o<s.length;o++){var l=Object(z.a)(s[o],2),d=l[0],u=l[1];t.push({fileName:d,extension:"dxf",content:u.dxf,preview:"outlines.".concat(d,".svg")})}if(null!==c&&void 0!==c&&c.cases)for(var b=0,j=Object.entries(c.cases);b<j.length;b++){var f=Object(z.a)(j[b],2),h=f[0],g=f[1];t.push({fileName:h,extension:"stl",content:g.stl,preview:"cases.".concat(h,".jscad")})}if(null!==c&&void 0!==c&&c.pcbs)for(var p=0,O=Object.entries(c.pcbs);p<O.length;p++){var x=Object(z.a)(O[p],2),m=x[0],v=x[1];t.push({fileName:m,extension:"kicad_pcb",content:v})}return Object(R.jsxs)(ie,{children:[Object(R.jsx)("h3",{children:"Downloads"}),t.map((function(e,t){return!e.fileName.startsWith("_")&&Object(R.jsx)(re,Object(L.a)(Object(L.a)({},e),{},{setPreview:n}),t)}))]})},ce=t(112),oe=_.a.img(u||(u=Object(C.a)(["\n      filter: invert();\n      -webkit-user-drag: none;\n      -khtml-user-drag: none;\n      -moz-user-drag: none;\n      -o-user-drag: none;\n      user-drag: none;\n"]))),se=Object(_.a)(ce.PanZoom)(b||(b=Object(C.a)(["\n  overflow: hidden;\n  border: 1px solid #a8a8a8;\n\n  &:focus-visible {\n    outline: none;\n  }\n"]))),le=function(e){var n=e.svg,t=e.width,r=e.height;return Object(R.jsx)(se,{enableBoundingBox:!0,children:Object(R.jsx)(oe,{width:t||"100%",height:r||"100%",src:"data:image/svg+xml;utf8,".concat(encodeURIComponent(n)),alt:"Ergogen SVG Output preview"})})},de=t(115),ue=Object(_.a)(de.a)(j||(j=Object(C.a)(["\n  width: 100%;\n  height: 400px;\n"]))),be=function(e){var n=e.previewContent;return Object(R.jsx)(ue,{jscadScript:n,style:{wrapperDiv:{height:"100%",width:"100%"},viewerCanvas:{height:"400px",width:"100%"}}})},je=S.a.memo(be),fe=function(e){var n=e.previewKey,t=e.previewContent,r=e.width,i=void 0===r?"100%":r,a=e.height,c=void 0===a?"100%":a,o=e.className,s=n.split(".").slice(-1)[0];return Object(R.jsx)("div",{className:o,children:function(e){switch(e){case"svg":return Object(R.jsx)(le,{svg:t,width:i,height:c});case"jscad":return Object(R.jsx)(je,{previewContent:t});default:return Object(R.jsx)(R.Fragment,{})}}(s)})},he=t(114),ge=function(e){var n=e.optionId,t=e.label,r=e.setSelected,i=e.checked;return Object(R.jsxs)("span",{children:[Object(R.jsx)("input",{type:"checkbox",id:n,checked:i,onChange:function(e){return r(e.target.checked)}}),Object(R.jsx)("label",{htmlFor:n,children:t})]})},pe=_.a.div(f||(f=Object(C.a)(["\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  max-width: 33em;\n  width: 100%;\n  flex-grow: 1;\n\n  @media screen and (max-width: 1000px) {\n    max-width: unset;\n  }\n"]))),Oe=_.a.div(h||(h=Object(C.a)(["\n  display: flex;\n  flex-flow: wrap;\n\n  @media screen and (max-width: 1000px) {\n    flex-direction: column;\n  }\n"]))),xe=_.a.div(g||(g=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n\n  flex-grow: 1;\n  flex-basis: 25em;\n  padding: 1em;\n"]))),me=_.a.div(p||(p=Object(C.a)(["\n  background: #ff6d6d;\n  color: #a31111;\n  padding: 1em;\n  margin: 0.5em 0 0.5em 0;\n  border: 1px solid #a31111;\n  border-radius: 0.3em;\n"]))),ve=Object(_.a)(fe)(O||(O=Object(C.a)(["\n  flex-grow: 1;\n"]))),we=Object(_.a)(W)(x||(x=Object(C.a)(["\n  border: 3px solid grey;\n  border-radius: 0.3em;\n  height: 80%;\n  position: relative;\n"]))),ye=_.a.div(m||(m=Object(C.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ke=function(){var e=Object(I.useState)("demo.svg"),n=Object(z.a)(e,2),t=n[0],r=n[1],i=Z();if(!i)return null;var a=i.results,c=i.error,o=i.processInput,s=i.configInput,l=i.autoGen,d=i.setAutoGen,u=i.autoGen3D,b=i.setAutoGen3D,j=i.debug,f=i.setDebug,h=a;return t.split(".").forEach((function(e){var n;return h=null===(n=h)||void 0===n?void 0:n[e]})),Object(R.jsx)("div",{children:Object(R.jsxs)(Oe,{children:[Object(R.jsxs)(pe,{children:[Object(R.jsx)(he.a,{onChange:function(){},onInputChange:function(){},value:"",inputValue:"",onMenuClose:function(){},onMenuOpen:function(){}}),Object(R.jsx)(we,{}),Object(R.jsx)(X,{onClick:function(){return o(s,{pointsonly:!1})},children:"Generate"}),Object(R.jsxs)(ye,{children:[Object(R.jsx)(ge,{optionId:"autogen",label:"Auto-generate",setSelected:d,checked:l}),Object(R.jsx)(ge,{optionId:"debug",label:"Debug",setSelected:f,checked:j}),Object(R.jsx)(ge,{optionId:"autogen3d",label:Object(R.jsxs)(R.Fragment,{children:["Auto-gen 3D ",Object(R.jsx)("small",{children:"(slow)"})]}),setSelected:b,checked:u})]}),c&&Object(R.jsx)(me,{children:c.toString()})]}),Object(R.jsxs)(xe,{children:[Object(R.jsx)(ae,{setPreview:r}),t&&"string"===typeof h&&Object(R.jsx)(ve,{previewKey:t,previewContent:h})]})]})})},Ne=_.a.div(v||(v=Object(C.a)(["\n      width: 100%;\n      height: 4em;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    "]))),Ce=_.a.div(w||(w=Object(C.a)(["\n      a {\n        color: white;\n        text-decoration: none;\n        display: inline-block;\n        margin-right: 2em\n      }\n    "]))),Ie=_.a.h2(y||(y=Object(C.a)(["\n  display: inline;\n  background: #99d4d9;\n  background: linear-gradient(to right, #99d4d9 0%, #b9dbaf 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]))),Se=function(){return Object(R.jsxs)(Ne,{children:[Object(R.jsx)("div",{children:Object(R.jsx)(Ie,{children:"Ergogen"})}),Object(R.jsxs)(Ce,{children:[Object(R.jsx)("a",{href:"#",rel:"noreferrer",children:"Intro"}),Object(R.jsx)("a",{href:"https://docs.ergogen.xyz/",target:"_blank",rel:"noreferrer",children:"Docs"}),Object(R.jsx)("a",{href:"https://discord.gg/nbKcAZB",target:"_blank",rel:"noreferrer",children:"Discord"})]})]})},Fe=_.a.div(k||(k=Object(C.a)(["\n      display: flex;\n      margin-top: auto;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 1em 0.5em 1em;\n      color: #FFFFFF;\n\n      a {\n        color: white;\n        text-decoration: none;\n      }\n"]))),De=function(){return Object(R.jsxs)(Fe,{children:[Object(R.jsx)("div",{children:Object(R.jsx)("a",{href:"https://www.github.com/ergogen/ergogen",target:"_blank",rel:"noreferrer",children:"Ergogen by MrZealot"})}),Object(R.jsxs)("div",{children:["v",window.ergogen.version]}),Object(R.jsxs)("div",{children:["Powering the ",Object(R.jsx)("a",{href:"https://zealot.hu/absolem",target:"_blank",rel:"noreferrer",children:"Absolem"})]})]})},_e=_.a.div(N||(N=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  color: #FFFFFF;\n  height: 100%;\n  width: 100%;\n"])));D.a.render(Object(R.jsx)(S.a.StrictMode,{children:Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(_e,{children:[Object(R.jsx)(Se,{}),Object(R.jsx)(V,{initialInput:"points:\n  zones:\n    matrix:\n      anchor:\n        rotate: 5\n      columns:\n        pinky:\n        ring:\n          rotate: -5\n          origin: [-12, -19]\n          stagger: 12\n        middle:\n          stagger: 5\n        index:\n          stagger: -6\n        inner:\n          stagger: -2\n      rows:\n        bottom:\n        home:\n        top:\n    thumbfan:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [-7, -19]\n      columns:\n        near:\n        home:\n          spread: 21.25\n          rotate: -28\n          origin: [-11.75, -9]\n        far:\n          spread: 21.25\n          rotate: -28\n          origin: [-9.5, -9]\n      rows:\n        thumb:\n  rotate: -20\n  mirror:\n    ref: matrix_pinky_home\n    distance: 223.7529778",children:Object(R.jsx)(ke,{})}),Object(R.jsx)(De,{})]})})}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.32749d2d.chunk.js.map