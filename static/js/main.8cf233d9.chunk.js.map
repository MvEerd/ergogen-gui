{"version":3,"sources":["context/ConfigContext.tsx","molecules/ConfigEditor.tsx","atoms/Button.tsx","atoms/DownloadRow.tsx","molecules/TabPane.tsx","organisms/Tabs.tsx","molecules/Dowloads.tsx","atoms/SvgPreview.tsx","atoms/JscadPreview.tsx","molecules/FilePreview.tsx","atoms/GenOption.tsx","examples/index.ts","examples/absolem.ts","examples/atreus.ts","examples/adux.ts","examples/tuck-n-roll.ts","examples/wubbo.ts","Ergogen.tsx","atoms/Header.tsx","atoms/Footer.tsx","index.tsx"],"names":["ConfigContext","createContext","ConfigContextProvider","initialInput","children","useLocalStorage","configInput","setConfigInput","useState","error","setError","results","setResults","debug","setDebug","autoGen","setAutoGen","autoGen3D","setAutoGen3D","parseConfig","inputString","type","parsedConfig","JSON","parse","e","yaml","load","processInput","useCallback","debounce","textInput","a","options","pointsonly","inputConfig","points","units","variables","outlines","window","ergogen","process","m","console","log","toString","useEffect","Provider","value","useConfigContext","useContext","ConfigEditor","className","configContext","handleChange","height","defaultLanguage","onChange","theme","defaultValue","Button","styled","button","MediumButton","SmallButton","styledButton","size","rest","Row","div","FileName","Buttons","StyledButton","DownloadRow","fileName","extension","content","preview","setPreview","setTabIndex","onClick","target","rel","download","href","URL","createObjectURL","Blob","Pane","TabPane","TabContainer","Tab","props","active","TabContext","Tabs","tabs","tabIndex","activeTab","map","tab","i","label","DownloadsContainer","Downloads","downloads","tabContext","demo","push","dump","dxf","Object","entries","name","outline","cases","caseObj","stl","pcbs","pcb","startsWith","InvertedImage","img","StyledPanZoom","PanZoom","SvgPreview","svg","width","enableBoundingBox","minZoom","maxZoom","src","encodeURIComponent","alt","StyledOpenJSCAD","OpenJSCAD","JscadPreview","previewContent","jscadScript","style","wrapperDiv","viewerCanvas","React","memo","FilePreview","previewKey","previewExt","split","slice","renderFilePreview","GenOption","optionId","setSelected","checked","id","htmlFor","Examples","absolem","configContent","atreus","adux","tucknroll","wubbo","EditorContainer","FlexContainer","Error","StyledFilePreview","StyledConfigEditor","OptionContainer","StyledSelect","Select","StyledSplit","Split","LeftSplitPane","RightSplitPane","Ergogen","setPreviewKey","selectedOption","setSelectedOption","walkArray","forEach","key","exampleOptions","direction","sizes","minSize","gutterSize","snapOffset","newValue","placeholder","HeaderContainer","LinkContainer","Header","FooterContainer","Footer","version","AppContainer","ReactDOM","render","StrictMode","values","document","getElementById"],"mappings":"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","file":"static/js/main.8cf233d9.chunk.js","sourcesContent":["import React, {createContext, Dispatch, SetStateAction, useCallback, useContext, useEffect, useState} from 'react';\nimport { DebouncedFunc } from \"lodash-es\";\nimport yaml from \"js-yaml\";\nimport debounce from \"lodash.debounce\";\nimport { useLocalStorage } from 'react-use';\n\ntype Props = {\n    initialInput: string,\n    children: React.ReactNode[] | React.ReactNode,\n};\n\ntype Results = { [key: string]: any|Results };\n\ntype ContextProps = {\n    configInput: string | undefined,\n    setConfigInput: Dispatch<SetStateAction<string | undefined>>,\n    processInput: DebouncedFunc<(textInput: string | undefined, options?: ProcessOptions) => Promise<void>>,\n    error: string | null,\n    results: Results | null,\n    debug: boolean,\n    setDebug: Dispatch<SetStateAction<boolean>>,\n    autoGen: boolean,\n    setAutoGen: Dispatch<SetStateAction<boolean>>,\n    autoGen3D: boolean,\n    setAutoGen3D: Dispatch<SetStateAction<boolean>>\n};\n\ntype ProcessOptions = {\n    pointsonly: boolean\n};\n\nexport const ConfigContext = createContext<ContextProps | null>(null);\nexport const CONFIG_LOCAL_STORAGE_KEY = 'LOCAL_STORAGE_CONFIG'\n\nconst ConfigContextProvider = ({initialInput, children}: Props) => {\n    const [configInput, setConfigInput] = useLocalStorage<string>(CONFIG_LOCAL_STORAGE_KEY, initialInput);\n    const [error, setError] = useState<string|null>(null);\n    const [results, setResults] = useState<Results|null>(null);\n    const [debug, setDebug] = useState<boolean>(true);\n    const [autoGen, setAutoGen] = useState<boolean>(true);\n    const [autoGen3D, setAutoGen3D] = useState<boolean>(false);\n\n\n    const parseConfig = (inputString: string): [string, { [key: string]: any[] }] => {\n        let type = 'UNKNOWN';\n        let parsedConfig = null;\n\n        try {\n            parsedConfig = JSON.parse(inputString);\n            type = 'JSON';\n        } catch (e: unknown) {\n            // Input is not valid JSON\n        }\n\n        try {\n            parsedConfig = yaml.load(inputString);\n            type = 'YAML';\n        } catch (e: unknown) {\n            // Input is not valid YAML\n        }\n\n        return [type, parsedConfig]\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const processInput = useCallback(\n        debounce(async (textInput: string | undefined, options: ProcessOptions = { pointsonly: true }) => {\n            let results = null;\n            let inputConfig: string | {} = textInput ?? '';\n            const [,parsedConfig] = parseConfig(textInput ?? '');\n\n            setError(null);\n\n            // When running this as part of onChange we only send 'points', 'units' and 'variables' to generate a preview\n            // If there is no 'points' key we send the input to Ergogen as-is, it could be KLE or invalid.\n            if (parsedConfig?.points && options?.pointsonly) {\n                inputConfig = {\n                    points: {...parsedConfig?.points},\n                    units: {...parsedConfig?.units},\n                    variables: {...parsedConfig?.variables},\n                    outlines: {...parsedConfig?.outlines}\n                };\n            }\n\n            try {\n                results = await window.ergogen.process(\n                    inputConfig,\n                    debug, // debug\n                    (m: string) => console.log(m) // logger\n                );\n            } catch (e: unknown) {\n                if(!e) return;\n\n                if (typeof e === \"string\"){\n                    setError(e);\n                }\n                if (typeof e === \"object\"){\n                    // @ts-ignore\n                    setError(e.toString());\n                }\n                return;\n            }\n\n            setResults(results);\n\n        }, 300),\n        [window.ergogen]\n    );\n\n    useEffect(() => {\n        if(autoGen) {\n            processInput(configInput, { pointsonly: !autoGen3D });\n        }\n    }, [configInput, processInput]);\n\n\n    return (\n        <ConfigContext.Provider\n            value={ {\n                configInput,\n                setConfigInput,\n                processInput,\n                error,\n                results,\n                debug,\n                setDebug,\n                autoGen,\n                setAutoGen,\n                autoGen3D,\n                setAutoGen3D\n            } }\n        >\n            { children }\n        </ConfigContext.Provider>\n    );\n};\n\nexport default ConfigContextProvider;\n\nexport const useConfigContext = () => useContext(ConfigContext);","import Editor from \"@monaco-editor/react\";\n\nimport React, {useEffect} from \"react\";\nimport {useConfigContext} from \"../context/ConfigContext\";\n\ntype Props = {\n  className?: string\n};\n\nconst ConfigEditor = ({className}: Props) => {\n    const configContext = useConfigContext();\n\n    // @ts-ignore\n    const {configInput, setConfigInput} = configContext;\n\n    const handleChange = async (textInput: string | undefined) => {\n        if(!textInput) return null;\n\n        setConfigInput(textInput);\n    }\n\n    useEffect(() => {\n        handleChange(configInput);\n    }, []);\n\n    return (\n        <div className={className}>\n            <Editor\n                height=\"70vh\"\n                defaultLanguage=\"JSON\"\n                onChange={handleChange}\n                value={configInput}\n                theme={\"vs-dark\"}\n                defaultValue={configInput}\n            />\n        </div>\n    );\n}\n\nexport default ConfigEditor;","import React from 'react';\nimport styled from \"styled-components\";\n\ntype Props = {\n    size?: string,\n    children: React.ReactNode,\n    onClick?: React.MouseEventHandler<HTMLButtonElement> | undefined;\n};\n\nconst Button = styled.button`\n  display: inline-block;\n  border: none;\n  padding: 1rem 2rem;\n  margin: 0;\n  text-decoration: none;\n  background-color: #28a745;\n  border-radius: .25rem;\n  transition: color .15s ease-in-out,\n  background-color .15s ease-in-out,\n  border-color .15s ease-in-out,\n  box-shadow .15s ease-in-out;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 1.2rem;\n  cursor: pointer;\n  text-align: center;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    background-color: #218838;\n    border-color: #1e7e34;\n  }\n\n  &:active {\n    transform: scale(0.98);\n    outline: 2px solid #fff;\n    outline-offset: -5px;\n  }\n`;\n\nconst MediumButton = styled(Button)`\n    padding: 0.7rem 1.4rem;\n    font-size: 1rem;\n`;\n\nconst SmallButton  = styled(Button)`\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n`;\n\nconst styledButton = ({size, ...rest}: Props): JSX.Element => {\n    switch(size){\n        case \"sm\":\n        case \"small\":\n            return <SmallButton {...rest}/>;\n        case \"md\":\n        case \"medium\":\n            return <MediumButton {...rest}/>;\n        case \"lg\":\n        case \"large\":\n        default:\n            return <Button {...rest}/>;\n    }\n};\n\nexport default styledButton;","import Button from \"./Button\";\nimport styled from \"styled-components\";\nimport {Dispatch, SetStateAction} from \"react\";\n\ntype Props = {\n    fileName: string,\n    extension: string,\n    content: string,\n    preview?: string,\n    setPreview: (preview: string) => void,\n    setTabIndex: Dispatch<SetStateAction<number>> | undefined\n};\n\nconst Row = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5em\n`;\n\nconst FileName = styled.div`\n`;\n\nconst Buttons = styled.div`\n`;\n\nconst StyledButton = styled(Button)`\nmargin-right: 0.5em;\n`;\n\nconst DownloadRow = ({fileName, extension, content, preview, setPreview, setTabIndex}: Props): JSX.Element => {\n    return (\n        <Row>\n            <FileName>{fileName}.{extension}</FileName>\n            <Buttons>\n                {preview && (\n                    <StyledButton size={\"small\"}\n                        onClick={()=>{\n                            setPreview(preview);\n                            setTabIndex?.(0)\n                        }}\n                    >\n                        Preview\n                    </StyledButton>\n                )}\n                <a target={\"_blank\"}\n                   rel={\"noreferrer\"}\n                   download={`${fileName}.${extension}`}\n                   href={window.URL.createObjectURL(new Blob([content], {type: \"octet/stream\"}))}>\n                    <Button size={\"small\"}>Download</Button>\n                </a>\n            </Buttons>\n        </Row>\n    );\n};\n\nexport default DownloadRow;","import React from \"react\";\nimport styled from \"styled-components\";\n\ntype TabPaneProps = {\n    content: React.ReactComponentElement<any>,\n    className?: string\n};\n\nconst Pane = styled.div`\n    position: relative;\n    height: 100%;\n`\n\nconst TabPane = ({content, className}: TabPaneProps) => {\n    return (\n        <Pane className={className}>\n            {content}\n        </Pane>\n    );\n}\n\nexport default TabPane;","import React, {createContext, Dispatch, SetStateAction, useState} from \"react\";\nimport TabPane from \"../molecules/TabPane\";\nimport styled from \"styled-components\";\n\ntype TabPaneProps = {\n    label: string,\n    content: React.ReactComponentElement<any>,\n};\n\ntype TabsProps = {\n    tabs: Array<TabPaneProps>\n}\n\ntype TabProps = {\n    active: boolean\n}\n\nconst TabContainer = styled.div`\n    display: flex;\n    align-content: space-between;\n    justify-content: space-around;\n    width: 100%;\n    margin-bottom: 0.5rem;\n`;\n\nconst Tab = styled.div`\n    display: flex;\n    background: #595959;\n    padding: 0.5rem 1rem;\n    flex-grow: 1;\n    justify-content: center;\n    align-content: center;\n    cursor: pointer;\n    ${(props: TabProps) => props?.active ? `border-bottom: 0.2rem solid #28a745` : ``}\n`;\n\ntype ContextProps = {\n    tabIndex: number | undefined,\n    setTabIndex: Dispatch<SetStateAction<number>>,\n};\n\nexport const TabContext = createContext<ContextProps | null>(null);\n\nconst Tabs = ({tabs}: TabsProps) => {\n    const [tabIndex, setTabIndex] = useState(0);\n    const activeTab = tabs[tabIndex];\n\n    return (\n        <TabContext.Provider value={{\n            tabIndex,\n            setTabIndex\n        }}>\n            <TabContainer>\n                {tabs?.map((tab, i) =>\n                    <Tab key={i} onClick={() => setTabIndex(i)} active={tabIndex === i}>{tab.label}</Tab>\n                )}\n            </TabContainer>\n            <TabPane content={activeTab.content}/>\n        </TabContext.Provider>\n    );\n}\n\nexport default Tabs;","import DownloadRow from \"../atoms/DownloadRow\";\nimport yaml from 'js-yaml';\nimport styled from \"styled-components\";\nimport {useConfigContext} from \"../context/ConfigContext\";\nimport {Dispatch, SetStateAction, useContext} from \"react\";\nimport {TabContext} from \"../organisms/Tabs\";\n\nconst DownloadsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\ntype Props = {\n    setPreview: Dispatch<SetStateAction<string>>\n};\n\ntype DownloadObj = {\n    fileName: string,\n    extension: string,\n    content: string,\n    preview?: string,\n};\n\ntype DownloadArr = Array<DownloadObj>;\n\nconst Downloads = ({setPreview}: Props) => {\n    let downloads: DownloadArr = [];\n    const configContext = useConfigContext();\n    const tabContext = useContext(TabContext);\n    if(!configContext) return null;\n\n    const {configInput, results} = configContext;\n\n    if (results?.demo) {\n        downloads.push({\n                fileName: 'raw',\n                extension: 'txt',\n                content: configInput ?? ''\n            }, {\n                fileName: 'canonical',\n                extension: 'yaml',\n                content: yaml.dump(results.points)\n            },\n            {\n                fileName: 'demo',\n                extension: 'dxf',\n                content: results?.demo?.dxf,\n                preview: \"demo.svg\"\n            },\n            {\n                fileName: 'points',\n                extension: 'yaml',\n                content: yaml.dump(results.points)\n            },\n            {\n                fileName: 'units',\n                extension: 'yaml',\n                content: yaml.dump(results.units)\n            });\n    }\n\n    if (results?.outlines) {\n        for (const [name, outline] of Object.entries(results.outlines)) {\n            downloads.push(\n                {\n                    fileName: name,\n                    extension: 'dxf',\n                    // @ts-ignore\n                    content: outline.dxf,\n                    preview: `outlines.${name}.svg`\n                }\n            )\n        }\n\n    }\n\n    if (results?.cases) {\n        for (const [name, caseObj] of Object.entries(results.cases)) {\n            downloads.push(\n                {\n                    fileName: name,\n                    extension: 'stl',\n                    // @ts-ignore\n                    content: caseObj.stl,\n                    preview: `cases.${name}.jscad`\n                }\n            )\n        }\n\n    }\n\n    if (results?.pcbs) {\n        for (const [name, pcb] of Object.entries(results.pcbs)) {\n            downloads.push(\n                {\n                    fileName: name,\n                    extension: 'kicad_pcb',\n                    // @ts-ignore\n                    content: pcb\n                }\n            )\n        }\n\n    }\n\n\n\n    return (\n      <DownloadsContainer>\n          <h3>Downloads</h3>\n          {\n              downloads.map(\n                  (download, i) => {\n                      if (download.fileName.startsWith(\"_\")) return false;\n\n                      return <DownloadRow key={i} {...download} setPreview={setPreview} setTabIndex={tabContext?.setTabIndex}/>;\n                  }\n              )\n          }\n      </DownloadsContainer>\n  );\n};\n\n      export default Downloads;","import styled from \"styled-components\";\n// @ts-ignore\nimport { PanZoom } from 'react-easy-panzoom';\n\ntype Props = {\n  svg: string,\n  width: number | string,\n  height: number | string\n};\n\nconst InvertedImage = styled.img`\n      filter: invert();\n      -webkit-user-drag: none;\n      -khtml-user-drag: none;\n      -moz-user-drag: none;\n      -o-user-drag: none;\n      user-drag: none;\n`;\n\nconst StyledPanZoom = styled(PanZoom)`\n  overflow: hidden;\n  height: 100%;\n\n  &:focus-visible {\n    outline: none;\n  }\n`;\n\nconst SvgPreview = ({svg, width, height}: Props): JSX.Element => (\n    <StyledPanZoom enableBoundingBox={true} minZoom={0.8} maxZoom={5}>\n        <InvertedImage\n            width={width || '100%'}\n            height={height || '100%'}\n            src={`data:image/svg+xml;utf8,${encodeURIComponent(svg)}`}\n            alt={'Ergogen SVG Output preview'}\n        />\n    </StyledPanZoom>\n);\n\nexport default SvgPreview;","import React from 'react';\nimport styled from \"styled-components\";\nimport {OpenJSCAD} from \"openjscad-react\";\n\ntype Props = {\n    previewContent: string\n};\n\nconst StyledOpenJSCAD = styled(OpenJSCAD)`\n  width: 100%;\n  height: 400px;\n`;\n\nconst JscadPreview = ({previewContent}: Props): JSX.Element => (\n    <StyledOpenJSCAD\n         jscadScript={previewContent}\n         style={{\n             wrapperDiv: {'height': '100%', 'width': '100%'},\n             viewerCanvas: {'height': '400px', 'width': '100%'},\n         }}\n    />\n);\n\nexport default React.memo(JscadPreview);","import SvgPreview from \"../atoms/SvgPreview\";\nimport JscadPreview from \"../atoms/JscadPreview\";\n\ntype Props = {\n    previewKey: string,\n    previewContent: string,\n    width?: number | string,\n    height?: number | string,\n    className?: string\n};\n\nconst FilePreview = ({previewKey, previewContent, width = '100%', height = '100%', className}: Props) => {\n    const previewExt = previewKey.split(\".\").slice(-1)[0];\n\n    const renderFilePreview = (previewExt: string) => {\n        switch (previewExt) {\n            case 'svg':\n                return (\n                    <SvgPreview svg={previewContent} width={width} height={height}/>\n                )\n            case 'jscad':\n                return (\n                    <JscadPreview previewContent={previewContent}/>\n                )\n            default:\n                return <></>;\n        }\n    };\n\n    return (\n        <div className={className}>\n            {renderFilePreview(previewExt)}\n        </div>\n    );\n}\n\nexport default FilePreview;","import React, {Dispatch, SetStateAction} from \"react\";\n\ntype Props = {\n  optionId: string;\n  label: React.ReactNode;\n  checked: boolean;\n  setSelected: Dispatch<SetStateAction<boolean>>;\n};\n\nconst GenOption = ({optionId, label, setSelected, checked}: Props): JSX.Element => {\n    return (\n        <span>\n            <input\n                type={\"checkbox\"}\n                id={optionId}\n                checked={checked}\n                onChange={(e)=>setSelected(e.target.checked)}\n            />\n            <label htmlFor={optionId}>{label}</label>\n        </span>\n    );\n};\n\nexport default GenOption;","import Absolem from \"./absolem\";\nimport Atreus from \"./atreus\";\nimport Adux from \"./adux\";\nimport Wubbo from \"./wubbo\";\nimport TuckNRoll from \"./tuck-n-roll\";\n\nconst Examples = {\n    absolem: {\n        label: \"Absolem\",\n        configContent:  Absolem\n    },\n    atreus: {\n        label: \"Atreus\",\n        configContent: Atreus,\n    },\n    adux: {\n        label: \"A. dux\",\n        configContent: Adux\n    },\n    tucknroll: {\n        label: \"Tuck-n-Roll\",\n        configContent: TuckNRoll\n    },\n    wubbo: {\n        label: \"Wubbo\",\n        configContent: Wubbo\n    }\n}\n\nexport default Examples;\n\nexport interface ConfigOption {\n    readonly value: string;\n    readonly label: string;\n}","const Absolem: string = `points:\n  zones:\n    matrix:\n      anchor:\n        rotate: 5\n      columns:\n        pinky:\n        ring:\n          rotate: -5\n          origin: [-12, -19]\n          stagger: 12\n        middle:\n          stagger: 5\n        index:\n          stagger: -6\n        inner:\n          stagger: -2\n      rows:\n        bottom:\n        home:\n        top:\n    thumbfan:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [-7, -19]\n      columns:\n        near:\n        home:\n          spread: 21.25\n          rotate: -28\n          origin: [-11.75, -9]\n        far:\n          spread: 21.25\n          rotate: -28\n          origin: [-9.5, -9]\n      rows:\n        thumb:\n  rotate: -20\n  mirror:\n    ref: matrix_pinky_home\n    distance: 223.7529778`;\n\nexport default Absolem;","const Atreus: string = `points:\n  zones:\n    matrix:\n      columns:\n        pinky:\n        ring:\n          stagger: 3\n        middle:\n          stagger: 5\n        index:\n          stagger: -5\n        inner:\n          stagger: -6\n        thumb:\n          stagger: 10\n          row_overrides:\n            home:\n      rows:\n        bottom:\n        home:\n        top:\n        num:\n  rotate: -10\n  mirror:\n    ref: matrix_thumb_home\n    distance: 22`;\n\nexport default Atreus;","const ADux: string = `points:\n  zones:\n    matrix:\n      columns:\n        pinky:\n          spread: 18\n          rotate: 15\n          origin: [0, -17]\n          rows:\n            bottom:\n              bind: [5, 0, 0, 0]\n              column_net: P7\n            home:\n              bind: [0, 12, 0, 0]\n              column_net: P6\n            top:\n              bind: [0, 8, 5, 0]\n              column_net: P5 \n        ring:\n          spread: 18\n          stagger: 17\n          rotate: -10\n          origin: [0, -17]\n          rows:\n            bottom:\n              bind: [0, 0, 2, 10]\n              column_net: P4\n            home:\n              bind: [5, 0, 5, 0]\n              column_net: P3\n            top:\n              bind: [0, 5, 0, 0]\n              column_net: P0\n        middle:\n          spread: 18\n          stagger: 17/3\n          rotate: -5\n          origin: [0, -17]\n          rows:\n            bottom:\n              bind: [0, 10, 0, 5]\n              column_net: P1\n            home:\n              bind: 5\n              column_net: P19           \n            top:\n              bind: [0, 0, 0, 0]\n              column_net: P18\n          key:\n            shift: [0.2, 0]\n        index:\n          spread: 18\n          stagger: -17/3\n          rotate: -5\n          origin: [0, -17]\n          rows:\n            bottom:\n              bind: [0, 5, 0, 0]\n              column_net: P15\n            home:\n              bind: [5, 0, 5, 0]\n              column_net: P14\n            top:\n              bind: [0, 0, 0, 6]\n              column_net: P16\n        inner:\n          spread: 18\n          stagger: -17/6\n          origin: [0, -17]\n          rows: \n            bottom:\n              bind: [5, 19, 20, 2]\n              column_net: P10\n            home:\n              bind: [0, 27, 0, 5]\n              column_net: P20\n            top:\n              bind: [0, 0, 5, 5]\n              column_net: P21\n      key:\n        footprints:\n          choc_hotswap:\n            type: choc\n            nets:\n              from: =column_net\n              to: GND\n            params:\n                keycaps: true\n                reverse: true\n                hotswap: true\n          choc:\n            type: choc\n            anchor:\n              rotate: 180\n            nets:\n              from: =column_net\n              to: GND\n            params:\n                keycaps: true\n                reverse: true\n      rows:\n        bottom:\n          padding: 17\n        home:\n          padding: 17\n        top:\n    thumb:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [0,-24]\n      columns:\n        first:\n          rotate: -15\n          rows:\n            only:\n              column_net: P8\n              bind: [10, 1, 0, 70]\n        second:\n          spread: 18\n          rotate: -10\n          origin: [-9, -9.5]\n          rows:\n            only:\n              column_net: P9\n              bind: [0, 0, 0, 5]\n      rows:\n        only:\n          padding: 17\n      key:\n        footprints:\n          choc_hotswap:\n            type: choc\n            nets:\n              from: =column_net\n              to: GND\n            params:\n                keycaps: true\n                reverse: true\n                hotswap: true\n          choc:\n            type: choc\n            anchor:\n              rotate: 180\n            nets:\n              from: =column_net\n              to: GND\n            params:\n                keycaps: true\n                reverse: true\noutlines:\n  exports:\n    raw:\n      - type: keys\n        side: left\n        size: [18,17]\n        corner: 1\n    first:\n      - type: outline\n        name: raw\n        fillet: 3\n    second:\n      - type: outline\n        name: first\n        fillet: 2\n    third:\n      - type: outline\n        name: second\n        fillet: 1   \n    panel:\n      - type: outline\n        name: third\n        fillet: 0.5\npcbs:\n  architeuthis_dux:\n    outlines:\n      main:\n        outline: panel\n    footprints:\n      promicro:\n        type: promicro\n        anchor:\n          ref: matrix_inner_home\n          shift: [19, -8.5]\n          rotate: -90\n        params:\n          orientation: down\n      trrs:\n        type: trrs\n        nets:\n          A: GND\n          B: GND\n          C: P2\n          D: VCC\n        anchor:\n          ref: matrix_inner_home\n          shift: [34.75, 6.5]\n        params:\n          reverse: true\n          symmetric: true\n\n`;\n\nexport default ADux;","const TuckNRoll: string = `points:\n  rotate: 0\n  zones:\n    matrix:\n      columns:\n        pinky:\n          origin: [ 0, -1cy ]\n          rotate: 19  # 19 degrees cumulative\n          stagger: 0 # affects distance to previous column so useless for a left pinky column\n          spread: 0 # affects distance to previous column so useless for a left pinky column\n          key:\n            column_net: P4\n            column_mark: P\n        ring:\n          origin: [ 0, -1cy ]\n          rotate: -4 # 15 degrees cumulative\n          stagger: 10\n          spread: 23\n          key:\n            column_net: P5\n            column_mark: R\n        middle:\n          origin: [ 0, -1cy ]\n          rotate: -10 # 5 degrees cumulative\n          stagger: -1\n          spread: 18\n          key:\n            column_net: P6\n            column_mark: M\n        index:\n          origin: [ 0, -1cy ]\n          rotate: -5 # 0 degrees cumulative\n          stagger: -3\n          spread: 20\n          key:\n            column_net: P21\n            column_mark: IN\n        inner:\n          origin: [ 0, -1cy ]\n          rotate: 0\n          stagger: -1\n          key:\n            column_net: P20\n            column_mark: I\n      rows:\n        bottom:\n          padding: 1cy\n          row_net: P16\n        home:\n          padding: 1cy\n          row_net: P10\n        top:\n          padding: 1cy\n          row_net: P18\n    thumbfan:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [ -3, -22 ]\n      columns:\n        near:\n          rotate: -15\n          key:\n            column_net: P6\n            column_mark: M\n        home:\n          spread: 19\n          rotate: -10 # -25 degrees cumulative\n          origin: [-9.5, -9]\n          key:\n            column_net: P5\n            column_mark: R\n        far:\n          spread: 19\n          rotate: -10 # 35 degrees cumulative\n          origin: [-9.5, -9]\n          key:\n            column_net: P4\n            column_mark: P\n      rows:\n        thumb:\n          padding: 0\n          row_net: P7`;\n\nexport default TuckNRoll;","const Wubbo: string = `\nunits:\n  # Parameters\n  row_spacing: 1cy\n\n  pinky_rotation: 5 # degrees rotation relative to zone rotation\n  pinky_stagger: 0 # mm, relative to previous column\n  pinky_spread: 1cx # mm, relative to previous column\n\n  ring_rotation: 3\n  ring_stagger: 0.45cy\n  ring_spread: 1.05cx\n\n  middle_rotation: 0\n  middle_stagger: 1\n  middle_spread: 1.1cx\n\n  index_rotation: -1\n  index_stagger: -3\n  index_spread: 1cx\n\n  inner_rotation: -2\n  inner_stagger: -5\n  inner_spread: 1cx\n\n  usb_cutout_x:  47\n  usb_cutout_y: -1.27\n  usb_cutout_r: -15.5\n\n  # Constants\n  choc_cap_x: 17.5\n  choc_cap_y: 16.5\n\n  choc_plate_thickness: 1.2\n  mx_plate_thickness: 1.5\n\n  # demo.dxf multiplies key.width/height by this value\n  visual_x: 1\n  visual_y: 1\n\npoints:\n  rotate: 0\n  mirror:\n  key: # each key across all zones will have these properties\n    bind: 5\n    width: choc_cap_x\n    height: choc_cap_y\n    tags:\n      1u: true\n    footprints: # These footprints will be added for each of the points\n      choc_hotswap:\n        type: choc\n        nets:\n          to: =key_net\n          from: GND\n        params:\n          reverse: false\n          hotswap: true\n          # Don't show a model for this since 'choc' already loads the model\n          model: false\n          keycaps: false\n      choc:\n        type: choc\n        anchor: \n          rotate: 180\n        nets:\n          to: =key_net\n          from: GND\n        params:\n          keycaps: true\n          reverse: false\n      # A trace to connect each hotswap socket with a pin hole (do a 4mm fillet on these in KiCad)\n      trace:\n        type: trace\n        params:\n          side: B\n          points: [\n            [0, 6],\n            [6, 6],\n            [9, 4],\n            [9, -4]\n          ]\n  zones:\n    alphas:\n      rows:\n        bottom.padding: row_spacing\n        home.padding: row_spacing\n        top.padding: row_spacing\n      columns:\n        pinkycluster:\n          rotate: pinky_rotation\n          rows:\n            bottom.skip: true\n            home.key_net: P106\n            top.skip: true\n        pinky:\n          rotate: pinky_rotation - pinky_rotation\n          stagger: pinky_stagger\n          spread: pinky_spread\n          rows:\n            bottom.key_net: P104\n            home.key_net: P102\n            top:\n              key_net: test\n              footprints:\n                choc: $unset\n                trace: $unset\n                choc_hotswap: $unset\n                encoder:\n                  type: rotary\n                  nets:\n                    from: =key_net\n                    to: GND\n                    A: TODO3\n                    B: TODO4\n                    C: GND\n        ring:\n          rotate: ring_rotation - pinky_rotation\n          stagger: ring_stagger\n          spread: ring_spread\n          rows:\n            bottom.key_net: P101\n            home.key_net: P103\n            top.key_net: P100\n        middle:\n          rotate: middle_rotation - ring_rotation\n          stagger: middle_stagger\n          spread: middle_spread\n          rows:\n            bottom.key_net: P022\n            home.key_net: P029\n            top.key_net: P030\n        index:\n          rotate: index_rotation - middle_rotation\n          stagger: index_stagger\n          spread: index_spread\n          rows:\n            bottom.key_net: P031\n            home.key_net: P004\n            top.key_net: P005\n        inner:\n          rotate: inner_rotation - index_rotation\n          stagger: inner_stagger\n          spread: inner_spread\n          rows:\n            bottom.key_net: P007\n            home.key_net: P109\n            top.key_net: P012\n    thumbkeys:\n      anchor:\n        ref: alphas_index_bottom\n        shift: [ 0.5cx, -1cy - 2]\n      columns:\n        near:\n          rotate: -10\n          stagger: -5\n          origin: [ 0, -0.5cy ]\n          key.key_net: P009\n        home:\n          spread: 19\n          stagger: 0.25cy # Move up by 0.25cy so a 1.5cy keycap lines up with the bottom\n          rotate: -15 # -25 degrees cumulative\n          origin: [-0.5choc_cap_y, -0.75choc_cap_x] # Pivot at the lower left corner of a 1.5u choc key\n          key:\n            height: choc_cap_x\n            width: 1.5choc_cap_y\n            rotate: 90\n            tags:\n              15u: true\n              1u: false\n            key_net: P010\n      rows:\n        thumb:\n          padding: 0\noutlines:\n  exports:\n    _bottom_arch_circle:\n      - type: circle\n        radius: 500\n        anchor:\n          ref: alphas_middle_bottom\n          shift: [-95, -525]\n    _top_arch_circle:\n      - type: circle\n        radius: 200\n        anchor:\n          ref: alphas_middle_bottom\n          shift: [0, -155]\n    _main_body_circle:\n      - type: circle\n        radius: 70\n        anchor:\n          ref: alphas_middle_bottom\n          shift: [0, 0]\n    _usb_c_cutout:\n      - type: rectangle\n        size: [9.28, 6.67]\n        anchor: &usbanchor\n          ref: alphas_middle_top\n          shift: [ usb_cutout_x, usb_cutout_y ]\n          rotate: usb_cutout_r\n    # Make a crescent by overlapping two circles then cut the main body with a third circle\n    _main: [\n        +_top_arch_circle,\n        -_bottom_arch_circle,\n        ~_main_body_circle\n    ]\n    _fillet:\n      - type: outline\n        name: _main\n        fillet: 6\n    combined: [\n        _fillet,\n        -_usb_c_cutout\n    ]\n    _switch_cutouts:\n      - type: keys\n        side: left\n        size: 14 # Plate cutouts are 14mm * 14mm for both MX and Choc\n        bound: false\n    switch_plate:\n      [ combined, -_switch_cutouts]\ncases:\n  switchplate:\n    - type: outline\n      name: switch_plate\n      extrude: choc_plate_thickness\n  bottom:\n    - type: outline\n      name: combined\n      extrude: choc_plate_thickness\n`;\n\nexport default Wubbo;","import {useEffect, useState} from \"react\";\nimport styled from \"styled-components\";\nimport Split from \"react-split\";\n\nimport ConfigEditor from \"./molecules/ConfigEditor\";\nimport Downloads from \"./molecules/Dowloads\";\nimport FilePreview from \"./molecules/FilePreview\";\n\nimport {useConfigContext} from \"./context/ConfigContext\";\nimport Button from \"./atoms/Button\";\nimport Select from \"react-select\";\nimport GenOption from \"./atoms/GenOption\";\nimport Tabs from \"./organisms/Tabs\";\nimport Examples, {ConfigOption} from \"./examples\";\n\nconst EditorContainer = styled.div`\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  flex-grow: 1;\n`;\n\nconst FlexContainer = styled.div`\n  display: flex;\n  flex-flow: wrap;\n`;\n\nconst Error = styled.div`\n  background: #ff6d6d;\n  color: #a31111;\n  padding: 1em;\n  margin: 0.5em 0 0.5em 0;\n  border: 1px solid #a31111;\n  border-radius: 0.3em;\n`;\n\nconst StyledFilePreview = styled(FilePreview)`\n  height: 100%;\n`;\n\nconst StyledConfigEditor = styled(ConfigEditor)`\n  position: relative;\n`;\n\nconst OptionContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst StyledSelect = styled(Select)`\n    color: black;\n`;\n\nconst StyledSplit = styled(Split)`\n  width: 100%;\n  display: flex;\n  padding: 1rem;\n\n  .gutter {\n    background-color: #878787;\n    border-radius: 0.25rem;\n\n    background-repeat: no-repeat;\n    background-position: 50%;\n\n    &:hover {\n      background-color: #a0a0a0;\n    }\n\n    &.gutter-horizontal {\n      cursor: col-resize;\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');\n    }\n  }\n`;\n\nconst LeftSplitPane = styled.div`\n    padding-right: 1rem;\n    position: relative;\n`;\n\nconst RightSplitPane = styled.div`\n    padding-left: 1rem;\n    position: relative;\n`;\n\nconst Ergogen = () => {\n    const [previewKey, setPreviewKey] = useState(\"demo.svg\");\n    const [selectedOption, setSelectedOption] = useState<ConfigOption|null>(null);\n    const configContext = useConfigContext();\n\n    useEffect(()=>{\n        if(selectedOption?.value) {\n            configContext?.setConfigInput(selectedOption.value)\n        }\n    }, [selectedOption]);\n\n    if (!configContext) return null;\n\n\n    let walkArray = configContext?.results;\n    // Walk through the JSON keys until we get the content of the desired previewKey\n    previewKey.split(\".\").forEach((key) => walkArray = walkArray?.[key]);\n\n    let previewContent = typeof walkArray === 'string' ? walkArray : \"\";\n    const exampleOptions: readonly ConfigOption[] = Object.entries(Examples)?.map(([key, value]) => {\n        return { value: value.configContent, label: value.label }\n    });\n\n    return (\n        <FlexContainer>\n            <StyledSplit\n                direction={\"horizontal\"}\n                sizes={[50, 50]}\n                minSize={100}\n                gutterSize={10}\n                snapOffset={0}\n            >\n                <LeftSplitPane>\n                    <EditorContainer>\n                        <StyledSelect\n                            options={exampleOptions}\n                            value={selectedOption}\n                            // @ts-ignore\n                            onChange={(newValue: ConfigOption|null) => setSelectedOption(newValue)}\n                            placeholder={\"Paste your config below, or select an example here!\"}\n                        />\n                        <StyledConfigEditor/>\n                        <Button onClick={() => configContext?.processInput(configContext?.configInput, {pointsonly: false})}>Generate</Button>\n                        <OptionContainer>\n                            <GenOption optionId={'autogen'} label={'Auto-generate'} setSelected={configContext?.setAutoGen} checked={configContext?.autoGen}/>\n                            <GenOption optionId={'debug'} label={'Debug'} setSelected={configContext?.setDebug} checked={configContext?.debug}/>\n                            <GenOption optionId={'autogen3d'} label={<>Auto-gen 3D <small>(slow)</small></>} setSelected={configContext?.setAutoGen3D} checked={configContext?.autoGen3D}/>\n                        </OptionContainer>\n                        {configContext?.error && <Error>{configContext?.error?.toString()}</Error>}\n                    </EditorContainer>\n                </LeftSplitPane>\n\n                <RightSplitPane>\n                    <Tabs tabs={[\n                        {label: 'Preview', content: <StyledFilePreview key={previewKey} previewKey={previewKey} previewContent={previewContent}/>},\n                        {label: 'Downloads', content: <Downloads setPreview={setPreviewKey}/>},\n                    ]} />\n                </RightSplitPane>\n            </StyledSplit>\n        </FlexContainer>\n    );\n}\n\nexport default Ergogen;","import styled from \"styled-components\";\n\nconst HeaderContainer = styled.div`\n      width: 100%;\n      height: 4em;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 1rem 0 1rem;\n`;\n\nconst LinkContainer = styled.div`\n      a {\n        color: white;\n        text-decoration: none;\n        display: inline-block;\n        margin-right: 2em\n      }\n      a:last-of-type{\n        margin-right: 0;\n      }\n    `;\n\n\n\nconst Header = (): JSX.Element => {\n    return (\n        <HeaderContainer>\n            <div>\n                <h2>Ergogen</h2>\n            </div>\n\n            <LinkContainer>\n                {/*<a href=\"#\" rel=\"noreferrer\">*/}\n                {/* TODO add intro modal */}\n                {/*    Intro*/}\n                {/*</a>*/}\n                <a href=\"https://docs.ergogen.xyz/\" target=\"_blank\" rel=\"noreferrer\">\n                    Docs\n                </a>\n                <a href=\"https://discord.gg/nbKcAZB\" target=\"_blank\" rel=\"noreferrer\">\n                    Discord\n                </a>\n            </LinkContainer>\n        </HeaderContainer>\n    );\n}\n\nexport default Header;","import styled from \"styled-components\";\n\ndeclare global {\n    interface Window {\n        ergogen: any;\n    }\n}\n\nconst FooterContainer = styled.div`\n      display: flex;\n      height: 3rem;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 1rem 0.5rem 1rem;\n      margin-top: auto;\n      color: #FFFFFF;\n\n      a {\n        color: #28a745;\n        text-decoration: none;\n        \n        &:hover {\n          color: #FFF;\n        }\n      }\n`;\n\nconst Footer = (): JSX.Element => {\n    return (\n        <FooterContainer>\n            <div>\n                <a href=\"https://www.github.com/ergogen/ergogen\" target=\"_blank\" rel=\"noreferrer\">\n                    Ergogen by MrZealot\n                </a>\n            </div>\n            <div>\n                v{window.ergogen.version}\n            </div>\n            <div>\n                Powering the <a href=\"https://zealot.hu/absolem\" target=\"_blank\" rel=\"noreferrer\">Absolem</a>\n            </div>\n        </FooterContainer>\n    );\n}\n\nexport default Footer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from \"styled-components\";\nimport './index.css';\n\nimport Ergogen from './Ergogen';\nimport Header from \"./atoms/Header\";\nimport Footer from \"./atoms/Footer\";\nimport ConfigContextProvider from \"./context/ConfigContext\";\nimport Examples from \"./examples\";\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  color: #FFFFFF;\n  height: 100%;\n  width: 100%;\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n      <>\n          <AppContainer>\n              <Header/>\n              <ConfigContextProvider initialInput={Object.values(Examples)[0].configContent}>\n                <Ergogen />\n              </ConfigContextProvider>\n              <Footer/>\n          </AppContainer>\n      </>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}