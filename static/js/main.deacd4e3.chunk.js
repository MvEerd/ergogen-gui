(this["webpackJsonpergogen-gui"]=this["webpackJsonpergogen-gui"]||[]).push([[0],{112:function(e,n,t){},188:function(e,n){},190:function(e,n){},228:function(e,n,t){"use strict";t.r(n);var r,i,a,c,o,s,l,d,u,b,j,g,h,f,p,O,x,m,v=t(3),w=t(0),k=t.n(w),y=t(100),N=t.n(y),C=t(4),F=(t(112),t(5)),S=t(31),I=t.n(S),D=t(45),z=t(105),G=t(7),_=t(32),E=t(25),A=t.n(E),P=t(1),B=Object(w.createContext)(null),J=function(e){var n=e.initialInput,t=e.children,r=Object(w.useState)(n),i=Object(F.a)(r,2),a=i[0],c=i[1],o=Object(w.useState)(null),s=Object(F.a)(o,2),l=s[0],d=s[1],u=Object(w.useState)(null),b=Object(F.a)(u,2),j=b[0],g=b[1],h=Object(w.useState)(!0),f=Object(F.a)(h,2),p=f[0],O=f[1],x=Object(w.useState)(!0),m=Object(F.a)(x,2),v=m[0],k=m[1],y=Object(w.useState)(!1),N=Object(F.a)(y,2),C=N[0],S=N[1],z=function(e){var n="UNKNOWN",t=null;try{t=JSON.parse(e),n="JSON"}catch(r){}try{t=_.a.load(e),n="YAML"}catch(r){}return[n,t]},E=Object(w.useCallback)(A()(function(){var e=Object(D.a)(I.a.mark((function e(n){var t,r,i,a,c,o,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:{pointsonly:!0},r=null,i=n,a=z(n),c=Object(F.a)(a,2),o=c[1],d(null),(null===o||void 0===o?void 0:o.points)&&(null===t||void 0===t?void 0:t.pointsonly)&&(i={points:Object(G.a)({},null===o||void 0===o?void 0:o.points),units:Object(G.a)({},null===o||void 0===o?void 0:o.units),variables:Object(G.a)({},null===o||void 0===o?void 0:o.variables),outlines:Object(G.a)({},null===o||void 0===o?void 0:o.outlines)}),e.prev=6,e.next=9,window.ergogen.process(i,p,(function(e){return console.log(e)}));case 9:r=e.sent,e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(6),e.t0){e.next=16;break}return e.abrupt("return");case 16:return"string"===typeof e.t0&&d(e.t0),"object"===typeof e.t0&&d(e.t0.toString()),e.abrupt("return");case 19:g(r);case 20:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(n){return e.apply(this,arguments)}}(),300),[window.ergogen]);return Object(w.useEffect)((function(){v&&E(a,{pointsonly:!C})}),[a,E]),Object(P.jsx)(B.Provider,{value:{configInput:a,setConfigInput:c,processInput:E,error:l,results:j,debug:p,setDebug:O,autoGen:v,setAutoGen:k,autoGen3D:C,setAutoGen3D:S},children:t})},M=function(){return Object(w.useContext)(B)},U=function(e){var n=e.className,t=M(),r=t.configInput,i=t.setConfigInput,a=function(){var e=Object(D.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:i(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(w.useEffect)((function(){a(r)}),[]),Object(P.jsx)("div",{className:n,children:Object(P.jsx)(z.a,{height:"70vh",defaultLanguage:"JSON",onChange:a,value:r,theme:"vs-dark",defaultValue:r})})},L=t(107),Z=C.a.button(r||(r=Object(v.a)(["\n  display: inline-block;\n  border: none;\n  padding: 1rem 2rem;\n  margin: 0;\n  text-decoration: none;\n  background-image: linear-gradient(320deg, #70c3d7 0%, #42aca2 100%);\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 1.2rem;\n  cursor: pointer;\n  text-align: center;\n  transition: all 50ms ease-in-out,\n  transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    background-image: linear-gradient(320deg, #66b1c6 0%, #3ba096 100%);\n  }\n\n  &:active {\n    transform: scale(0.98);\n    outline: 2px solid #fff;\n    outline-offset: -5px;\n  }\n"]))),K=Object(C.a)(Z)(i||(i=Object(v.a)(["\n    padding: 0.7rem 1.4rem;\n    font-size: 1rem;\n"]))),R=Object(C.a)(Z)(a||(a=Object(v.a)(["\n    padding: 0.4rem 0.8rem;\n    font-size: 0.8rem;\n"]))),V=function(e){var n=e.size,t=Object(L.a)(e,["size"]);switch(n){case"sm":case"small":return Object(P.jsx)(R,Object(G.a)({},t));case"md":case"medium":return Object(P.jsx)(K,Object(G.a)({},t));case"lg":case"large":default:return Object(P.jsx)(Z,Object(G.a)({},t))}},W=C.a.div(c||(c=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5em\n"]))),Y=C.a.div(o||(o=Object(v.a)(["\n"]))),q=C.a.div(s||(s=Object(v.a)(["\n    \n"]))),H=Object(C.a)(V)(l||(l=Object(v.a)(["\nmargin-right: 0.5em;\n"]))),Q=function(e){var n=e.fileName,t=e.extension,r=e.content,i=e.preview,a=e.setPreview;return Object(P.jsxs)(W,{children:[Object(P.jsxs)(Y,{children:[n,".",t]}),Object(P.jsxs)(q,{children:[i&&Object(P.jsx)(H,{size:"small",onClick:function(){return a(i)},children:"Preview"}),Object(P.jsx)("a",{target:"_blank",rel:"noreferrer",download:"".concat(n,".").concat(t),href:window.URL.createObjectURL(new Blob([r],{type:"octet/stream"})),children:Object(P.jsx)(V,{size:"small",children:"Download"})})]})]})},T=C.a.div(d||(d=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),X=function(e){var n=e.setPreview,t=[],r=M();if(!r)return null;var i,a=r.configInput,c=r.results;(null===c||void 0===c?void 0:c.demo)&&t.push({fileName:"raw",extension:"txt",content:a},{fileName:"canonical",extension:"yaml",content:_.a.dump(c.points)},{fileName:"demo",extension:"dxf",content:null===c||void 0===c||null===(i=c.demo)||void 0===i?void 0:i.dxf,preview:"demo.svg"},{fileName:"points",extension:"yaml",content:_.a.dump(c.points)},{fileName:"units",extension:"yaml",content:_.a.dump(c.units)});if(null===c||void 0===c?void 0:c.outlines)for(var o=0,s=Object.entries(c.outlines);o<s.length;o++){var l=Object(F.a)(s[o],2),d=l[0],u=l[1];t.push({fileName:d,extension:"dxf",content:u.dxf,preview:"outlines.".concat(d,".svg")})}if(null===c||void 0===c?void 0:c.cases)for(var b=0,j=Object.entries(c.cases);b<j.length;b++){var g=Object(F.a)(j[b],2),h=g[0],f=g[1];t.push({fileName:h,extension:"stl",content:f.stl,preview:"cases.".concat(h,".jscad")})}if(null===c||void 0===c?void 0:c.pcbs)for(var p=0,O=Object.entries(c.pcbs);p<O.length;p++){var x=Object(F.a)(O[p],2),m=x[0],v=x[1];t.push({fileName:m,extension:"kicad_pcb",content:v})}return Object(P.jsxs)(T,{children:[Object(P.jsx)("h3",{children:"Downloads"}),t.map((function(e,t){return Object(P.jsx)(Q,Object(G.a)(Object(G.a)({},e),{},{setPreview:n}),t)}))]})},$=t(104),ee=C.a.img(u||(u=Object(v.a)(["\n      filter: invert();\n      -webkit-user-drag: none;\n      -khtml-user-drag: none;\n      -moz-user-drag: none;\n      -o-user-drag: none;\n      user-drag: none;\n"]))),ne=Object(C.a)($.PanZoom)(b||(b=Object(v.a)(["\n  overflow: hidden;\n  border: 1px solid #a8a8a8;\n\n  &:focus-visible {\n    outline: none;\n  }\n"]))),te=function(e){var n=e.svg,t=e.width,r=e.height;return Object(P.jsx)(ne,{enableBoundingBox:!0,children:Object(P.jsx)(ee,{width:t||"100%",height:r||"100%",src:"data:image/svg+xml;utf8,".concat(encodeURIComponent(n)),alt:"Ergogen SVG Output preview"})})},re=t(106),ie=Object(C.a)(re.a)(j||(j=Object(v.a)(["\n  width: 100%;\n  height: 400px;\n"]))),ae=function(e){var n=e.previewContent;return Object(P.jsx)(ie,{jscadScript:n,style:{wrapperDiv:{height:"100%",width:"100%"},viewerCanvas:{height:"400px",width:"100%"}}})},ce=k.a.memo(ae),oe=function(e){var n=e.previewKey,t=e.previewContent,r=e.width,i=void 0===r?"100%":r,a=e.height,c=void 0===a?"100%":a,o=e.className,s=n.split(".").slice(-1)[0];return Object(P.jsx)("div",{className:o,children:function(e){switch(e){case"svg":return Object(P.jsx)(te,{svg:t,width:i,height:c});case"jscad":return Object(P.jsx)(ce,{previewContent:t});default:return Object(P.jsx)(P.Fragment,{})}}(s)})},se=C.a.div(g||(g=Object(v.a)(["\n  position: relative;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  max-width: 33em;\n  width: 100%;\n  flex-grow: 1;\n\n  @media screen and (max-width: 1000px) {\n    max-width: unset;\n  }\n"]))),le=C.a.div(h||(h=Object(v.a)(["\n  display: flex;\n  flex-flow: wrap;\n\n  @media screen and (max-width: 1000px) {\n    flex-direction: column;\n  }\n"]))),de=C.a.div(f||(f=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n\n  flex-grow: 1;\n  flex-basis: 25em;\n  padding: 1em;\n"]))),ue=C.a.div(p||(p=Object(v.a)(["\n  background: #ff6d6d;\n  color: #a31111;\n  padding: 1em;\n  margin: 0.5em 0 0.5em 0;\n  border: 1px solid #a31111;\n  border-radius: 0.3em;\n"]))),be=Object(C.a)(oe)(O||(O=Object(v.a)(["\n  flex-grow: 1;\n"]))),je=Object(C.a)(U)(x||(x=Object(v.a)(["\n  border: 3px solid grey;\n  border-radius: 0.3em;\n  height: 80%;\n  position: relative;\n"]))),ge=C.a.div(m||(m=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n"])));var he,fe,pe,Oe,xe,me,ve=function(){var e=Object(w.useState)("demo.svg"),n=Object(F.a)(e,2),t=n[0],r=n[1],i=M();if(!i)return null;var a=i.results,c=i.error,o=i.processInput,s=i.configInput,l=i.autoGen,d=i.setAutoGen,u=i.autoGen3D,b=i.setAutoGen3D,j=i.debug,g=i.setDebug,h=a;return t.split(".").forEach((function(e){var n;return h=null===(n=h)||void 0===n?void 0:n[e]})),Object(P.jsx)("div",{children:Object(P.jsxs)(le,{children:[Object(P.jsxs)(se,{children:[Object(P.jsx)(je,{}),Object(P.jsx)(V,{onClick:function(){return o(s,{pointsonly:!1})},children:"Generate"}),Object(P.jsxs)(ge,{children:[Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"checkbox",id:"autogen",checked:l,onChange:function(e){return d(e.target.checked)}}),Object(P.jsx)("label",{htmlFor:"autogen",children:"Auto-generate"})]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"checkbox",id:"debug",checked:j,onChange:function(e){return g(e.target.checked)}}),Object(P.jsx)("label",{htmlFor:"debug",children:"Debug"})]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"checkbox",id:"autogen3d",checked:u,onChange:function(e){return b(e.target.checked)}}),Object(P.jsxs)("label",{htmlFor:"autogen3d",children:["Auto-gen 3D ",Object(P.jsx)("small",{children:"(slow)"})]})]})]}),c&&Object(P.jsx)(ue,{children:c.toString()})]}),Object(P.jsxs)(de,{children:[Object(P.jsx)(X,{setPreview:r}),t&&"string"===typeof h&&Object(P.jsx)(be,{previewKey:t,previewContent:h})]})]})})},we=C.a.div(he||(he=Object(v.a)(["\n      width: 100%;\n      height: 4em;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    "]))),ke=C.a.div(fe||(fe=Object(v.a)(["\n      a {\n        color: white;\n        text-decoration: none;\n        display: inline-block;\n        margin-right: 2em\n      }\n    "]))),ye=C.a.h2(pe||(pe=Object(v.a)(["\n  display: inline;\n  background: #99d4d9;\n  background: linear-gradient(to right, #99d4d9 0%, #b9dbaf 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]))),Ne=C.a.h3(Oe||(Oe=Object(v.a)(["\n  display: inline;\n  background: #d999a6;\n  background: linear-gradient(to right, #d999a6 0%, #d4afdb 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"]))),Ce=function(){return Object(P.jsxs)(we,{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(ye,{children:"Ergogen UI "}),Object(P.jsx)(Ne,{children:"Beta by cache"})]}),Object(P.jsxs)(ke,{children:[Object(P.jsx)("a",{href:"https://www.github.com/MrZealot/ergogen",target:"_blank",rel:"noreferrer",children:"Ergogen"}),Object(P.jsx)("a",{href:"https://github.com/mrzealot/ergogen/blob/master/docs/reference.md",target:"_blank",rel:"noreferrer",children:"Docs"})]})]})},Fe=C.a.div(xe||(xe=Object(v.a)(["\n      display: flex;\n      margin-top: auto;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 1em 0.5em 1em;\n      color: #FFFFFF;\n\n      a {\n        color: white;\n        text-decoration: none;\n      }\n    "]))),Se=function(){return Object(P.jsxs)(Fe,{children:[Object(P.jsx)("div",{children:Object(P.jsx)("a",{href:"https://www.github.com/MrZealot/ergogen",target:"_blank",rel:"noreferrer",children:"Ergogen by MrZealot"})}),Object(P.jsx)("div",{children:Object(P.jsx)("img",{src:"/cacheworks.svg",alt:"cache.works logo"})}),Object(P.jsxs)("div",{children:["v",window.ergogen.version]})]})},Ie=C.a.div(me||(me=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  color: #FFFFFF;\n  height: 100%;\n  width: 100%;\n"])));N.a.render(Object(P.jsx)(k.a.StrictMode,{children:Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(Ie,{children:[Object(P.jsx)(Ce,{}),Object(P.jsx)(J,{initialInput:"points:\n  zones:\n    matrix:\n      anchor:\n        rotate: 5\n      columns:\n        pinky:\n        ring:\n          rotate: -5\n          origin: [-12, -19]\n          stagger: 12\n        middle:\n          stagger: 5\n        index:\n          stagger: -6\n        inner:\n          stagger: -2\n      rows:\n        bottom:\n        home:\n        top:\n    thumbfan:\n      anchor:\n        ref: matrix_inner_bottom\n        shift: [-7, -19]\n      columns:\n        near:\n        home:\n          spread: 21.25\n          rotate: -28\n          origin: [-11.75, -9]\n        far:\n          spread: 21.25\n          rotate: -28\n          origin: [-9.5, -9]\n      rows:\n        thumb:\n  rotate: -20\n  mirror:\n    ref: matrix_pinky_home\n    distance: 223.7529778",children:Object(P.jsx)(ve,{})}),Object(P.jsx)(Se,{})]})})}),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.deacd4e3.chunk.js.map